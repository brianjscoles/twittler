<!--

var users = ["mracus", "sharksforcheap", "shawndrost", "calhoun"]

var streams = { 
  users :
    { mracus : 
        ["tweet1", "tweet 7"],
      shawndrost :
        ["tweet2", "tweet3", "tweet71"],
      sharksforcheap :
        ["tweet4","tweet5"],
      calhoun :
        ["tweet6","tweet9"]
    }
  home :
    ["tweet1","tweet2","tweet3", .... "tweet500"]
  }


-->





<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <script>
      var index = 0;

      function postTweet(source,index){
        var tweet = streams.home[index];
            var dateString = '[' + tweet.created_at.getHours() + 
                              ":" + tweet.created_at.getMinutes() + 
                              ":" + (tweet.created_at.getSeconds()<10 ? '0'+tweet.created_at.getSeconds() : tweet.created_at.getSeconds()) + 
                              ']'
            var $tweet = $('<div></div>');
            $tweet.text(dateString + ' @' + tweet.user + ': ' + tweet.message);
            $tweet.appendTo($('body'));
      }

      $(document).ready(function(){
        var $body = $('body');
        $body.html('');

        while(index < streams.home.length){
          postTweet(streams.home,index);
          index += 1;
        } 
      });

      //every 800 milliseconds: check for new tweet(s)       

        setInterval(function(){
          while(index < streams.home.length){
            postTweet(streams.home,index)
            index += 1;
          }
          //var $status = $('<div>' + (index) + ' tweets printed. stream contains ' + streams.home.length + ' tweets.</div>');
          //$status.appendTo($('body'));
        },1500);



    </script>
  </body>
</html>


